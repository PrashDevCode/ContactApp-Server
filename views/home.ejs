<%- include("partials/header.ejs") %>

  <!-- content -->
  <main class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header card-title">
              <div class="d-flex align-items-center">
                <h2 class="mb-0">All Contacts</h2>
                <div class="ml-auto">
                  <a href="/add-contact" class="btn btn-success">
                    <i class="fa fa-plus-circle"></i> Add New
                  </a>
                </div>
              </div>
            </div>

            <div class="card-body">
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Actions</th>
                  </tr>
                </thead>

                <tbody>
                  <% contacts.forEach((c, index)=> { %>
                    <tr>
                      <td>
                        <%= index + 1 %>
                      </td>
                      <td>
                        <%= c.first_name %>
                      </td>
                      <td>
                        <%= c.last_name %>
                      </td>
                      <td>
                        <%= c.email %>
                      </td>
                      <td>
                        <%= c.phone %>
                      </td>
                      <td width="150">

                        <a href="/show-contact/<%= c._id %>" class="btn btn-sm btn-circle btn-outline-info"
                          title="Show">
                          <i class="fa fa-eye"></i>
                        </a>

                        <a href="/update-contact/<%= c._id %>" class="btn btn-sm btn-circle btn-outline-secondary"
                          title="Edit">
                          <i class="fa fa-edit"></i>
                        </a>

                        <a href="/delete-contact/<%= c._id %>" class="btn btn-sm btn-circle btn-outline-danger"
                          onclick="return confirm('Are you sure you want to delete this contact?')">
                          <i class="fa fa-times"></i>
                        </a>
                      </td>
                    </tr>
                    <% }) %>
                </tbody>
              </table>
            </div>

          </div>
        </div>
      </div>
    </div>
  </main>

  <%- include("partials/footer.ejs") %>